-- Code generated by Netspective IGS. DO NOT EDIT.

CREATE TABLE IF NOT EXISTS record_status (
    record_status_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS party_type (
    party_type_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS party (
    party_id BIGSERIAL PRIMARY KEY,
    party_name VARCHAR(255) NOT NULL,
    party_type_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (party_type_id) REFERENCES party_type(party_type_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS party_identifier_source (
    party_identifier_source_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS party_identifier (
    party_identifier_id BIGSERIAL PRIMARY KEY,
    party_id INTEGER NOT NULL,
    identifier_name VARCHAR(255) NOT NULL,
    identifier_value VARCHAR(255) NOT NULL,
    party_identifier_source_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (party_identifier_source_id) REFERENCES party_identifier_source(party_identifier_source_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS party_relation_type (
    party_relation_type_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS party_relation (
    party_relation_id BIGSERIAL PRIMARY KEY,
    origin_party_id INTEGER NOT NULL,
    related_party_id INTEGER NOT NULL,
    party_relation_type_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (origin_party_id) REFERENCES party(party_id),
    FOREIGN KEY (related_party_id) REFERENCES party(party_id),
    FOREIGN KEY (party_relation_type_id) REFERENCES party_relation_type(party_relation_type_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS organization_type (
    organization_type_id BIGSERIAL PRIMARY KEY,
    party_id INTEGER NOT NULL DEFAULT 1,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS organization (
    party_id INTEGER PRIMARY KEY NOT NULL,
    organization_type_id INTEGER NOT NULL,
    parent_org_id INTEGER,
    org_name VARCHAR(255) NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (organization_type_id) REFERENCES organization_type(organization_type_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS spoken_language (
    spoken_language_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS person_education_level (
    person_education_level_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS person_type (
    person_type_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS person_gender (
    person_gender_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS person (
    party_id INTEGER PRIMARY KEY NOT NULL,
    person_type_id INTEGER NOT NULL,
    person_fname VARCHAR(255) NOT NULL,
    person_mname VARCHAR(255) NOT NULL,
    person_lname VARCHAR(255) NOT NULL,
    person_gender_id INTEGER NOT NULL,
    dob TIMESTAMPTZ NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (person_type_id) REFERENCES person_type(person_type_id),
    FOREIGN KEY (person_gender_id) REFERENCES person_gender(person_gender_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS contact_type (
    contact_type_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS contact_electronic (
    contact_electronic_id BIGSERIAL PRIMARY KEY,
    electronic_details VARCHAR(255) NOT NULL,
    contact_type_id INTEGER NOT NULL,
    party_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (contact_type_id) REFERENCES contact_type(contact_type_id),
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS contact_land (
    contact_land_id BIGSERIAL PRIMARY KEY,
    address_line1 VARCHAR(255) NOT NULL,
    address_line2 VARCHAR(255) NOT NULL,
    address_zip VARCHAR(255) NOT NULL,
    address_city VARCHAR(255) NOT NULL,
    address_state VARCHAR(255) NOT NULL,
    address_country VARCHAR(255) NOT NULL,
    contact_type_id INTEGER NOT NULL,
    party_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (contact_type_id) REFERENCES contact_type(contact_type_id),
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS contact_tele (
    contact_tele_id BIGSERIAL PRIMARY KEY,
    number VARCHAR(255) NOT NULL,
    contact_type_id INTEGER NOT NULL,
    party_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (contact_type_id) REFERENCES contact_type(contact_type_id),
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS account_type (
    account_type_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS account_auth_type (
    account_auth_type_id INTEGER PRIMARY KEY NOT NULL,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS account (
    account_id BIGSERIAL PRIMARY KEY,
    account_type_id INTEGER NOT NULL,
    account_name VARCHAR(255) NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (account_type_id) REFERENCES account_type(account_type_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS account_identifier (
    account_identifier_id BIGSERIAL PRIMARY KEY,
    account_id INTEGER NOT NULL,
    identifier_name VARCHAR(255) NOT NULL,
    identifier_value VARCHAR(255) NOT NULL,
    identifier_value_encrypted VARCHAR(255) NOT NULL,
    account_auth_type_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (account_id) REFERENCES account(account_id),
    FOREIGN KEY (account_auth_type_id) REFERENCES account_auth_type(account_auth_type_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS configuration_scope (
    configuration_scope_id BIGSERIAL PRIMARY KEY,
    code VARCHAR(255) NOT NULL,
    value VARCHAR(255) NOT NULL,
    description VARCHAR(255) NOT NULL,
    hierarchy_level INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS master_configuration (
    master_configuration_id BIGSERIAL PRIMARY KEY,
    configuration_scope_id INTEGER NOT NULL,
    name VARCHAR(255) NOT NULL,
    description VARCHAR(255) NOT NULL,
    default_value VARCHAR(255) NOT NULL,
    short_key VARCHAR(255) NOT NULL,
    config_type VARCHAR(255) NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (configuration_scope_id) REFERENCES configuration_scope(configuration_scope_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS configuration_value (
    configuration_value_id BIGSERIAL PRIMARY KEY,
    party_id INTEGER NOT NULL,
    master_configuration_id INTEGER NOT NULL,
    value JSON NOT NULL,
    is_multivalue BOOLEAN NOT NULL DEFAULT FALSE,
    nameas VARCHAR(255) NOT NULL,
    description VARCHAR(255) NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (master_configuration_id) REFERENCES master_configuration(master_configuration_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS configuration_master_options (
    configuration_master_options_id BIGSERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description VARCHAR(255) NOT NULL,
    type VARCHAR(255) NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS configuration_feature_flag (
    configuration_feature_flag_id BIGSERIAL PRIMARY KEY,
    party_id INTEGER NOT NULL,
    configuration_master_options_id INTEGER NOT NULL,
    master_configuration_id INTEGER NOT NULL,
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (party_id) REFERENCES party(party_id),
    FOREIGN KEY (configuration_master_options_id) REFERENCES configuration_master_options(configuration_master_options_id),
    FOREIGN KEY (master_configuration_id) REFERENCES master_configuration(master_configuration_id),
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

CREATE TABLE IF NOT EXISTS plpgsql_check_result; (
    plpgsql_check_result;_id BIGSERIAL PRIMARY KEY,
    function_id VARCHAR(255),
    line_no INTEGER,
    statement VARCHAR(255),
    sql_state VARCHAR(255),
    message VARCHAR(255),
    detail VARCHAR(255),
    hint VARCHAR(255),
    level VARCHAR(255),
    position VARCHAR(255),
    query VARCHAR(255),
    context VARCHAR(255),
    created_at TIMESTAMPTZ NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_on TIMESTAMPTZ,
    record_status_id INTEGER NOT NULL DEFAULT 1,
    FOREIGN KEY (record_status_id) REFERENCES record_status(record_status_id)
);

DROP TYPE IF EXISTS person_demographics_record;
CREATE TYPE person_demographics_record AS (person_fname TEXT, person_mname TEXT, person_lname TEXT, electronic_details TEXT, dob TIMESTAMPTZ, gender INTEGER, person_type INTEGER, number TEXT, address_line1 TEXT, address_line2 TEXT, address_city TEXT, address_state TEXT, address_country TEXT, address_zip TEXT);
